# 搜索功能实现计划

## 技术可行性评估
Racket GUI框架完全支持实现搜索功能，SQLite数据库支持LIKE查询，技术上可行。

## 实现步骤

### 1. 数据库层实现
- 在`database.rkt`中添加`search-tasks`函数，使用LIKE查询搜索任务文本

### 2. 核心逻辑层实现
- 在`task.rkt`中添加`search-tasks`函数，将数据库结果转换为任务结构体
- 扩展`get-tasks-by-view`函数，支持搜索视图类型

### 3. 界面层实现
- 在`sidebar.rkt`中为搜索文本框添加回调函数
- 添加搜索按钮（可选，支持回车搜索）
- 在`main-frame%`中添加搜索状态管理
- 在`task-panel%`中支持显示搜索结果

## 预期功能
- 实时搜索：输入文本时自动搜索
- 搜索结果展示：在任务面板中显示匹配的任务
- 搜索状态指示：在标题栏显示搜索关键词
- 支持回车搜索：按下回车键触发搜索

## 文件修改清单
- `core/database.rkt`：添加搜索查询函数
- `core/task.rkt`：添加搜索功能包装函数
- `gui/sidebar.rkt`：完善搜索UI和回调
- `gui/main-frame.rkt`：添加搜索状态管理
- `gui/task-panel.rkt`：支持搜索结果展示

## 实现细节
- 使用SQLite的LIKE查询实现文本搜索
- 支持搜索状态的切换
- 搜索结果按列表分组展示
- 保持与现有界面风格一致