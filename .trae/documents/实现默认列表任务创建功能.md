# 实现固定列表的任务添加功能

## 需求分析
用户希望：
1. 当在特定列表视图中添加任务时，所在的任务列表已经确认
2. 添加任务弹窗中不显示列表选择选项，不可修改所在列表

## 实现思路
1. **当前实现分析**：
   - 应用在全局状态中保存了当前选中的列表ID和名称
   - 当点击添加任务按钮时，会将当前列表ID和名称传递给对话框
   - 对话框总是显示列表选择下拉框，用户可以自由选择
   - 智能视图（今天、计划等）没有特定的列表关联

2. **修改方案**：
   - 修改`show-add-task-dialog`函数，根据是否传入了明确的列表ID来决定是否显示列表选择选项
   - 当有明确列表ID时，隐藏列表选择控件，直接使用该列表
   - 当没有明确列表ID时（如在智能视图中），仍显示列表选择控件让用户选择

## 具体修改
1. 修改`gui/dialogs.rkt`文件中的`show-add-task-dialog`函数：
   - 添加条件判断，根据`list-id`参数决定是否显示列表选择控件
   - 当`list-id`存在时，隐藏列表选择的消息和下拉框
   - 直接使用传入的`list-id`作为任务的列表ID，不再让用户选择
   - 当`list-id`不存在时，保持原有逻辑不变

2. 更新对话框的高度，使其在隐藏列表选择控件时更紧凑

## 预期效果
- 当用户在特定列表视图中点击添加任务时，弹窗中不显示列表选择选项
- 新建任务直接关联到当前列表，用户不可修改
- 当在智能视图（今天、计划等）中添加任务时，仍显示列表选择让用户选择
- 功能变更对用户直观且易用，符合用户预期
- 弹窗布局根据是否显示列表选择控件自动调整，保持良好的用户体验