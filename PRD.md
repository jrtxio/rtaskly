# 🏷️ 1. 文档信息

| **字段**   | **内容**                       |
| -------- | ---------------------------- |
| **产品名称** | RReminder                    |
| **版本号**  | V1.0.0 (MVP)                 |
| **创建日期** | 2025年11月28日                  |
| **面向用户** | 追求数据安全和极简体验的技术爱好者/Racket 开发者 |
| **技术约束** | 界面设计需严格遵守 Racket GUI 的能力限制   |

# 🌟 2. 需求背景与目标

## 2.1 痛点与核心价值

1. **数据主权**：解决市面工具数据强制云端存储的问题，将数据文件（SQLite）的存储位置交由用户自由选择和管理。
2. **极简主义**：提供一个核心功能明确、界面交互简洁的 To-Do List 工具，避免功能冗余。
3. **跨平台一致性**：通过用户自定义数据文件位置和第三方同步工具，实现一致的跨平台使用体验。
## 2.2 产品目标

- 实现一个基于 Racket 的、界面参考 macOS Reminder 风格的**极简本地化 To-Do List** 工具。
- 核心功能覆盖：任务的创建、分类（列表）、筛选、标记完成和数据存储。

# ⚙️ 3. 技术选型与数据约束

| **领域**   | **技术/方案**    | **备注**                                 |
| -------- | ------------ | -------------------------------------- |
| **开发语言** | Racket       | 核心开发语言                                 |
| **前端界面** | `racket/gui` | 界面功能需以该库可实现的操作为准。                      |
| **后端数据** | SQLite       | 用于任务数据的持久化存储。                          |
| **数据存储** | 本地文件存储       | **核心特性：** 数据文件（`.sqlite`）路径由用户自定义。     |
| **数据同步** | 无内置同步        | 依赖用户选择的第三方文件同步工具（如 Dropbox, iCloud 等）。 |

# 🎨 4. 功能与界面设计（基于原型图 V1.0）

## 4.1. 初始启动与数据文件管理

应用首次启动时，必须进行数据文件的选择或创建。

| **步骤/界面** | **界面名称**              | **核心元素**                                 | **交互逻辑**                                                                 |
| --------- | --------------------- | ---------------------------------------- | ------------------------------------------------------------------------ |
| **A**     | **RReminder Welcome** | **「新建仓库」** 按钮，**「选择仓库」** 按钮。             | 1. **「新建仓库」**：跳转到**创建仓库**界面 (B)。2. **「选择仓库」**：打开文件浏览器，选择已有 `.sqlite` 文件。 |
| **B**     | **创建仓库**              | **名称** 输入框、**位置** 输入框 + **浏览** 按钮。       | 1. 用户输入文件名称，并指定文件存储路径。2. 点击**「创建」**：在指定位置创建空的 SQLite 文件，并打开应用主窗口。        |

## 4.2. 核心主界面布局

### 4.2.1 左侧菜单栏（侧边栏）

| **区域**   | **功能点**      | **交互说明**                                         |
| -------- | ------------ | ------------------------------------------------ |
| **顶部**   | **「搜索」框**    | 输入关键字后，右侧任务展示区域切换到搜索结果视图（G）。                     |
| **智能列表** | **「今天」**     | 筛选并显示所有截止日期为当天的事项。                               |
|          | **「计划」**     | 筛选并显示所有包含截止日期的任务，按日期远近排序。                        |
|          | **「全部」**     | 显示所有任务，按所属列表分组显示（包括已完成任务）。                       |
|          | **「完成」**     | 显示所有已标记为完成的事项。                                   |
| **我的列表** | **列表展示**     | 展示用户自定义列表。点击切换右侧任务视图。                            |
|          | **列表操作**     | 列表项**右击**：弹出菜单，支持**重命名**（弹出 D）或**删除**列表。删除需二次确认。 |
| **底部**   | **「+ 添加列表」** | 触发创建新列表的流程，弹出**添加新列表**对话框 (E)。                   |

### 4.2.2 任务展示区域

| **元素**   | **描述与功能**    | **交互说明**                                                        |
| -------- | ------------ | --------------------------------------------------------------- |
| **标题栏**  | 显示当前选中的列表名称。 | 如选中“工作”，则显示 **「工作」**。                                           |
| **创建任务** | 创建新任务。       | 1. 点击**底部**「+ 新提醒事项」按钮。2. 点击任务展示区**空白处**。操作后，弹出**修改提醒**对话框 (F)。 |
| **任务项**  | 任务核心元素。      | 任务之间使用**分割线**分隔。                                                |
|          | **复选框**      | 点击标记任务为**已完成**。完成的任务从当前列表（非“全部”/“完成”视图）中隐藏。                     |
|          | **任务文本**     | 显示任务描述。                                                         |
|          | **截止日期**     | 显示 `YYYY-MM-DD` 格式的日期（如果存在）。                                    |
| **任务编辑** | 修改任务详情。      | **单击任务项**：弹出**修改提醒**对话框 (F)。                                    |
## 4.3. 关键对话框与流程

| **序号** | **界面名称**        | **触发操作**                                   | **核心元素**                                                                                  | **确认/取消行为**                                              |
| ------ | --------------- | ------------------------------------------ | ----------------------------------------------------------------------------------------- | -------------------------------------------------------- |
| **D**  | **修改列表**        | 右击列表 -> 重命名                                | 列表名称：输入框                                                                                  | **「确定」**：保存并更新名称。<br><br>  <br><br>**「取消」**：关闭。          |
| **E**  | **添加新列表**       | 点击侧边栏「+ 添加列表」                              | 列表名称：输入框                                                                                  | **「确定」**：创建新列表，并选中。<br><br>  <br><br>**「取消」**：关闭。        |
| **F**  | **修改提醒 (任务详情)** | 1. 点击任务项。<br><br>  <br><br>2. 点击「+ 新提醒事项」。 | **提醒内容**：输入框 (任务文本)。<br><br>  <br><br>**截止日期**：日期选择器。<br><br>  <br><br>**所在位置**：列表选择下拉菜单。 | **「确定」**：保存所有修改/创建任务。<br><br>  <br><br>**「取消」**：放弃修改/关闭。 |

# 💾 5. 数据模型设计（SQLite）
## 5.1 任务列表表 (`list`)

| **字段名**     | **类型**  | **约束**      | **描述** |
| ----------- | ------- | ----------- | ------ |
| `list_id`   | INTEGER | PRIMARY KEY | 列表唯一ID |
| `list_name` | TEXT    | NOT NULL    | 列表名称   |
## 5.2 任务事项表 (`task`)

| **字段名**        | **类型**        | **约束**              | **描述**                         |
| -------------- | ------------- | ------------------- | ------------------------------ |
| `task_id`      | INTEGER       | PRIMARY KEY         | 任务唯一ID                         |
| `list_id`      | INTEGER       | NOT NULL            | 任务所属的列表ID (FK: `list.list_id`) |
| `task_text`    | TEXT          | NOT NULL            | 任务的文字描述                        |
| `due_date`     | TEXT          | NULL                | 任务截止日期 (YYYY-MM-DD)            |
| `is_completed` | INTEGER (0/1) | NOT NULL, DEFAULT 0 | 任务是否完成 (0: 未完成, 1: 已完成)        |
| `created_at`   | TEXT          | NOT NULL            | 任务创建时间                         |

# 🎯 6. 未来优化（V1.1 考虑）

为提高用户效率和体验，以下功能和改进建议在 V1.0 实现后可以考虑纳入 V1.1 版本，前提是 Racket GUI 支持。

1. **行内编辑：** 允许用户**双击**任务文本直接在行内修改，无需弹出对话框 (F)，大幅提升编辑效率。
2. **快捷创建：** 将创建新任务的流程 (F) 优化为**行内编辑模式**，避免每次创建都弹出对话框。
3. **键盘快捷键：** 支持 `Enter` 键快速保存任务、`Delete` 键删除选中的任务项。
4. **列表排序：** 允许用户拖拽列表项，自定义左侧“我的列表”的顺序。